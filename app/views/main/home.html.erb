<%= line_chart @data, download: true %>
<br/>
<br/>
<br/>
<%= form_with(local: true) do |form| %>
  <div class="field form-group">
    <%= form.text_field :k, class:"form-control", placeholder:"Shape", value: @k %>
  </div>

  <div class="field form-group">
    <%= form.text_field :l, class:"form-control", placeholder:"Scale", value: @l %>
  </div>

  <div class="field form-group">
    <%= form.text_field :x, class:"form-control", placeholder:"X", value: @x %>
  </div>

  <div class="field form-group">
    <%= form.text_field :inc, class:"form-control", placeholder:"Increment", value: @inc %>
  </div>

  <div class="field form-group">
    <%= form.text_field :rep, class:"form-control", placeholder:"Repetitions", value:@rep %>
  </div>

  <div class="field form-group">
    <%= form.text_field :r_count, class:"form-control", placeholder:"Randoms count" %>
  </div>

  <br/>
  <div class="actions">
    <%= form.submit "Go",  class:'btn btn-secondary' %>
  </div>
<% end %>
<br/>

<table class="table table-striped table-bordered table-hover">
  <tbody>
  <% @randoms.each do |r| %>
    <tr>
      <td><%= r[0] %></td>
      <% r[1].each do |rr| %>
        <td><%= rr %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>

<%= line_chart @chart_data, download: true %>

<%= link_to "Download (.csv)", download_path(format: 'csv'), class: "link-primary" %>

<br/>
<br/>
<table class="table table-striped table-bordered table-hover">
  <thead class="thead-dark">
  <tr>
    <th>X</th>
    <th>P</th>
  </tr>
  </thead>

  <tbody>
  <% @data.each do |d| %>
      <tr>
        <td><%= d[0] %></td>
        <td><%= d[1] %></td>
      </tr>
    <% end %>
  </tbody>
</table>
